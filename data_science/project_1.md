–û—Ç–ª–∏—á–Ω–æ–µ –Ω–∞—á–∞–ª–æ, —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –≤–≤–æ–¥–Ω–∞—è —á–∞—Å—Ç—å –≥–ª–∞–≤—ã üôÇ

–≠—Ç–æ –ø—Ä–µ–¥–∏—Å–ª–æ–≤–∏–µ (Foreword). –û–Ω–æ –æ–±—ä—è—Å–Ω—è–µ—Ç, –∑–∞—á–µ–º –≤–æ–æ–±—â–µ –Ω—É–∂–µ–Ω data science:

1. –î–∞–Ω–Ω—ã–µ –ø–æ–º–æ–≥–∞—é—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è

   * –í –¥—Ä–µ–≤–Ω–µ–º –ï–≥–∏–ø—Ç–µ –¥–µ–ª–∞–ª–∏ –ø–µ—Ä–µ–ø–∏—Å—å –Ω–∞—Å–µ–ª–µ–Ω–∏—è (census), —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, —Å–∫–æ–ª—å–∫–æ –Ω–∞–ª–æ–≥–æ–≤ –º–æ–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å.
   * –ü–∞—Å—Ç—É—Ö–∏ —Å—á–∏—Ç–∞–ª–∏ –∂–∏–≤–æ—Ç–Ω—ã—Ö, —á—Ç–æ–±—ã —Ä–µ—à–∏—Ç—å, —Å–∫–æ–ª—å–∫–æ –º–æ–∂–Ω–æ –ø—Ä–æ–¥–∞—Ç—å, –∞ —Å–∫–æ–ª—å–∫–æ –æ—Å—Ç–∞–≤–∏—Ç—å.

2. –°–µ–π—á–∞—Å –¥–∞–Ω–Ω—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ—â—ë —É–º–Ω–µ–µ

   * –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ (machine learning), —á—Ç–æ–±—ã:

     * –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞—Ç—å —Å–ø—Ä–æ—Å –Ω–∞ —Ç–æ–≤–∞—Ä—ã (demand prediction),
     * –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ,
     * —Ä–µ—à–∞—Ç—å, –≤–µ—Ä–Ω—ë—Ç –ª–∏ —á–µ–ª–æ–≤–µ–∫ –∫—Ä–µ–¥–∏—Ç (loan repayment prediction).

3. –†–∞–∑–≤–∏—Ç–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

   * –ü–æ—è–≤–∏–ª–∏—Å—å –º–æ—â–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ ‚Üí –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞–ª:

     * –¥–µ—à–µ–≤–ª–µ (cheaper),
     * —É–¥–æ–±–Ω–µ–µ (more convenient),
     * –¥–æ—Å—Ç—É–ø–Ω–µ–µ (more accessible).
   * –ü–æ—ç—Ç–æ–º—É –≤–æ–∫—Ä—É–≥ —Å—Ç–æ–ª—å–∫–æ —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤ –ø—Ä–æ big data, AI (artificial intelligence) –∏ —Ç.–ø.

4. –ì–ª–∞–≤–Ω–∞—è –∏–¥–µ—è
   –†–∞–Ω—å—à–µ –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö –±—ã–ª –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ —Ç–µ–º, —É –∫–æ–≥–æ –º–Ω–æ–≥–æ –¥–µ–Ω–µ–≥ –∏ —Ä–µ—Å—É—Ä—Å–æ–≤.
   –°–µ–π—á–∞—Å ¬´Everyone can use data. Everyone can get value from it.¬ª ‚Äî –ø–æ—á—Ç–∏ –ª—é–±–æ–π —á–µ–ª–æ–≤–µ–∫ –∏–ª–∏ –∫–æ–º–ø–∞–Ω–∏—è –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å –ø–æ–ª—å–∑–æ–π.

> –ö–∞–∫ –≤ —Å–µ—Ä–∏–∞–ª–µ *Mr. Robot* —Å–∫–∞–∑–∞–Ω–æ: ‚ÄúIt's an exciting time in the world right now‚Äù.

---

## –ö—Ä–∞—Ç–∫–æ: —á—Ç–æ –æ—Ç —Ç–µ–±—è —Ö–æ—Ç—è—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏

1. Python 3 only ‚Äî –≤—Å–µ —Ä–µ—à–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –Ω–∞ Python 3.

2. –í –∫–∞–∂–¥–æ–º .py —Å –∑–∞–¥–∞–Ω–∏–µ–º –≤ –∫–æ–Ω—Ü–µ:

   ```python
   if __name__ == "__main__":
       # –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π / –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥
   ```

3. Git:

   * –†–∞–±–æ—á–∏–µ —Ñ–∞–π–ª—ã ‚Äî –≤ src/
   * –ö–æ–º–º–∏—Ç–∏—à—å –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.
   * –î–µ–ª–∞–µ—à—å git push —Ç–æ–ª—å–∫–æ –≤ –≤–µ—Ç–∫—É develop.
   * –í—Å—ë, —á—Ç–æ –≤ master, –ø—Ä–æ–≤–µ—Ä—è—Ç—å—Å—è –Ω–µ –±—É–¥–µ—Ç.

4. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤:

   * –í –ø–∞–ø–∫–µ —Å –∑–∞–¥–∞–Ω–∏–µ–º –Ω–∏–∫–∞–∫–∏—Ö –ª–∏—à–Ω–∏—Ö —Ñ–∞–π–ª–æ–≤ (–Ω–∏–∫–∞–∫–∏—Ö –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö, .pyc, –Ω–æ—É—Ç–±—É–∫–æ–≤, pdf –∏ —Ç.–ø., –µ—Å–ª–∏ –∏—Ö –Ω–µ –ø—Ä–æ—Å–∏–ª–∏).
   * –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .gitignore, —á—Ç–æ–±—ã –Ω–µ –∑–∞–ª–µ—Ç–∞–ª –º—É—Å–æ—Ä.

5. –ù–∏–∫–∞–∫–æ–≥–æ ‚Äú–æ–±–º–∞–Ω–∞‚Äù:

   * –ù–µ–ª—å–∑—è –ø—Ä–æ—Å—Ç–æ `print("42")`, –µ—Å–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ —á—Ç–æ-—Ç–æ —Å—á–∏—Ç–∞—Ç—å.
   * –¢–≤–æ—ë —Ä–µ—à–µ–Ω–∏–µ –¥–æ–ª–∂–Ω—ã —Ä–µ–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ —É—Å–ª–æ–≤–∏—é.

6. –ü—Ä–∏–º–µ—Ä—ã –∏ –ø–æ–º–æ—â—å:

   * –í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ —á–∏—Ç–∞–µ—à—å –ø—Ä–∏–º–µ—Ä—ã ‚Üí —Ç–∞–º –º–æ–≥—É—Ç –±—ã—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è.
   * –ú–æ–∂–Ω–æ –æ–±—Å—É–∂–¥–∞—Ç—å —Å –æ–¥–Ω–æ–≥—Ä—É–ø–ø–Ω–∏–∫–∞–º–∏ –∏ –≥—É–≥–ª–∏—Ç—å.

### –ß—Ç–æ –Ω–∞–ø–∏—Å–∞–Ω–æ –≤ –∑–∞–¥–∞–Ω–∏–∏ –ø–æ-—á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏

* Chapter III ‚Äì Exercise 00. First shell script
  –ù—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å –ø–µ—Ä–≤—ã–π shell-—Å–∫—Ä–∏–ø—Ç.

* Turn-in directory: ex00/
  –°–¥–∞–≤–∞—Ç—å –Ω—É–∂–Ω–æ –≤ –ø–∞–ø–∫—É ex00/ (–≤–Ω—É—Ç—Ä–∏ —Ç–≤–æ–µ–≥–æ src –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏).

* Files to turn in: hh.sh, hh.json
  –¢—ã –¥–æ–ª–∂–Ω–∞ –ø–æ–ª–æ–∂–∏—Ç—å —Ç—É–¥–∞ –¥–≤–∞ —Ñ–∞–π–ª–∞:

  * hh.sh ‚Äî —Å–∫—Ä–∏–ø—Ç;
  * hh.json ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã —Å–∫—Ä–∏–ø—Ç–∞ (–ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å HeadHunter API).

* Allowed functions: curl, jq
  –ò–∑ –≤–Ω–µ—à–Ω–∏—Ö –ø—Ä–æ–≥—Ä–∞–º–º —Ç–µ–±–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ:

  * curl ‚Äî —á—Ç–æ–±—ã –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å HTTP-–∑–∞–ø—Ä–æ—Å—ã;
  * jq ‚Äî —á—Ç–æ–±—ã —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å JSON.

---

### –ß—Ç–æ –¥–æ–ª–∂–µ–Ω –¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç hh.sh

1. –ü—Ä–∏–Ω–∏–º–∞—Ç—å –∏–º—è –≤–∞–∫–∞–Ω—Å–∏–∏ –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä:

   ```sh
   ./hh.sh "data scientist"
   ```

   –í –∑–∞–¥–∞–Ω–∏–∏ —è–≤–Ω–æ —É–∫–∞–∑–∞–Ω–æ, —á—Ç–æ –¥–∞–ª—å—à–µ –≤—Å—ë –±—É–¥–µ—Ç –∑–∞–≤—è–∑–∞–Ω–æ –Ω–∞ "data scientist".

2. –° –ø–æ–º–æ—â—å—é HeadHunter API —Å–∫–∞—á–∞—Ç—å –ø–µ—Ä–≤—ã–µ 20 –≤–∞–∫–∞–Ω—Å–∏–π, –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –ø–æ–¥ —ç—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å.

3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ñ–∞–π–ª hh.json.

4. JSON –≤ hh.json –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫—Ä–∞—Å–∏–≤–æ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω:
   –∫–∞–∂–¥–æ–µ –ø–æ–ª–µ ‚Äî –Ω–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–µ (–æ–±—ã—á–Ω—ã–π pretty-print –æ—Ç jq —ç—Ç–æ –∫–∞–∫ —Ä–∞–∑ –∏ –¥–µ–ª–∞–µ—Ç).

5. –°–∫—Ä–∏–ø—Ç –¥–æ–ª–∂–µ–Ω:

   * –±—ã—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º (chmod +x hh.sh);
   * –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä /bin/sh (–ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Äî shebang).

6. –ü–æ–ª–æ–∂–∏—Ç—å hh.sh –∏ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π hh.json –≤:
   src/ex00/ —Ç–≤–æ–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.

---

### –ü—Ä–∏–º–µ—Ä —Ä–µ—à–µ–Ω–∏—è hh.sh

–í–æ—Ç –≤–∞—Ä–∏–∞–Ω—Ç —Å–∫—Ä–∏–ø—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥—Ö–æ–¥–∏—Ç –ø–æ–¥ —É—Å–ª–æ–≤–∏—è:
```sh
#!/bin/sh

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –ø–µ—Ä–µ–¥–∞–Ω —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∞—Ä–≥—É–º–µ–Ω—Ç (–Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏)
if [ $# -lt 1 ]; then
    echo "Usage: $0 \"vacancy name\"" >&2
    exit 1
fi

# –°–æ–±–∏—Ä–∞–µ–º –≤—Å–µ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ —Å–ª–æ–≤–∞ –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É, –Ω–∞–ø—Ä–∏–º–µ—Ä: data scientist
VACANCY="$*"

# –î–µ–ª–∞–µ–º GET-–∑–∞–ø—Ä–æ—Å –∫ HeadHunter API:
#   -G                 -> –¥–∞–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∫ URL –∫–∞–∫ query-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã
#   --data-urlencode   -> –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∫–æ–¥–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç –∑–∞–ø—Ä–æ—Å–∞ (–ø—Ä–æ–±–µ–ª—ã –∏ —Ç.–¥.)
#   per_page=20        -> –±–µ—Ä—ë–º –ø–µ—Ä–≤—ã–µ 20 –≤–∞–∫–∞–Ω—Å–∏–π
curl -sG "https://api.hh.ru/vacancies" \
    --data-urlencode "text=$VACANCY" \
    --data "per_page=20" \
    | jq '.' > hh.json
```

–ß—Ç–æ –≤–∞–∂–Ω–æ:

* –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–º–µ–Ω–Ω–æ —Ç–∞–∫:

  ```sh
  #!/bin/sh
  ```

* –í —Å–∫—Ä–∏–ø—Ç–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ:

  * curl
  * jq
  * –ø–ª—é—Å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –≤–µ—â–∏ `/bin/sh` (—ç—Ç–æ –æ–∫).
* –§–∞–π–ª hh.json –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –≤ —Ç–æ–π –∂–µ –ø–∞–ø–∫–µ, –≥–¥–µ —Ç—ã –∑–∞–ø—É—Å–∫–∞–µ—à—å hh.sh.
  –ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –±—É–¥—É—Ç –¥–µ–ª–∞—Ç—å —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:

  ```sh
  cd src/ex00
  ./hh.sh "data scientist"
  cat hh.json
  ```

---

### –ß—Ç–æ —Ç–µ–±–µ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —É —Å–µ–±—è

1. –í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ (–≤–Ω—É—Ç—Ä–∏ src) —Å–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É:

   ```sh
   mkdir -p src/ex00
   ```
2. –í src/ex00 —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª hh.sh –∏ –≤—Å—Ç–∞–≤–∏—Ç—å —Ç—É–¥–∞ –∫–æ–¥ –≤—ã—à–µ.
3. –°–¥–µ–ª–∞—Ç—å –µ–≥–æ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:

   ```sh
   cd src/ex00
   chmod +x hh.sh
   ```
4. –ó–∞–ø—É—Å—Ç–∏—Ç—å:

   ```sh
   ./hh.sh "data scientist"
   ```
5. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤ src/ex00 –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è (–∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å—Å—è) —Ñ–∞–π–ª hh.json.
   –ï–≥–æ —Ç–æ–∂–µ –Ω—É–∂–Ω–æ –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏ –∑–∞–ø—É—à–∏—Ç—å –≤ –≤–µ—Ç–∫—É develop.

---

–¢—ã —É–∂–µ —Å–∫–∞—á–∞–ª –≤–∞–∫–∞–Ω—Å–∏–∏ —Å hh.ru –∏ —Å–æ—Ö—Ä–∞–Ω–∏–ª–∞ –∏—Ö –≤ hh.json (–≤ –ø—Ä–æ—à–ª–æ–π –∑–∞–¥–∞—á–µ).
–¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –∏–∑ —ç—Ç–æ–≥–æ JSON —Å–¥–µ–ª–∞—Ç—å —Ç–∞–±–ª–∏—á–∫—É (CSV).

### –ß—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

1. –†–∞–±–æ—á–∞—è –ø–∞–ø–∫–∞ –∑–∞–¥–∞–Ω–∏—è:
   src/ex01/

2. –í –∏—Ç–æ–≥–µ –≤ —ç—Ç–æ–π –ø–∞–ø–∫–µ –¥–æ–ª–∂–Ω—ã –ª–µ–∂–∞—Ç—å —Ç—Ä–∏ —Ñ–∞–π–ª–∞:

   * filter.jq ‚Äì —Ñ–∞–π–ª —Å —Ñ–∏–ª—å—Ç—Ä–æ–º –¥–ª—è jq (–≤ –Ω—ë–º –æ–ø–∏—Å–∞–Ω–æ, –∫–∞–∫–∏–µ –ø–æ–ª—è –±—Ä–∞—Ç—å –∏ –∫–∞–∫ –¥–µ–ª–∞—Ç—å CSV).
   * json_to_csv.sh ‚Äì shell-—Å–∫—Ä–∏–ø—Ç.
   * hh.csv ‚Äì –≥–æ—Ç–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (—Ç–∞–±–ª–∏—Ü–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ CSV).

3. –ß—Ç–æ –¥–µ–ª–∞–µ—Ç json_to_csv.sh:

   * —ç—Ç–æ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Å–∫—Ä–∏–ø—Ç —Å –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–æ–π #!/bin/sh;
   * –≤–Ω—É—Ç—Ä–∏ –æ–Ω –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º—É jq,
   * –≥–æ–≤–æ—Ä–∏—Ç jq –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä –∏–∑ —Ñ–∞–π–ª–∞ filter.jq,
   * —á–∏—Ç–∞–µ—Ç –≤—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª hh.json (JSON —Å –≤–∞–∫–∞–Ω—Å–∏—è–º–∏),
   * –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ñ–∞–π–ª hh.csv.

4. –ß—Ç–æ –¥–æ–ª–∂–µ–Ω –¥–µ–ª–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä –≤ filter.jq:

   * –ø—Ä–æ–π—Ç–∏ –ø–æ –≤—Å–µ–º –≤–∞–∫–∞–Ω—Å–∏—è–º –≤ JSON,
   * –¥–ª—è –∫–∞–∂–¥–æ–π –≤–∞–∫–∞–Ω—Å–∏–∏ –≤–∑—è—Ç—å —Ç–æ–ª—å–∫–æ 5 –ø–æ–ª–µ–π:

     * id
     * created_at
     * name
     * has_test
     * alternate_url
   * —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∏–∑ —ç—Ç–æ–≥–æ —Å—Ç—Ä–æ–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∞ CSV.

5. –ö–∞–∫ –¥–æ–ª–∂–µ–Ω –≤—ã–≥–ª—è–¥–µ—Ç—å hh.csv (–∫–∞–∫ –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–µ):

   –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Äî –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∫–æ–ª–æ–Ω–æ–∫:

   undefined
csv
   "id","created_at","name","has_test","alternate_url"
   –î–∞–ª—å—à–µ ‚Äî –ø–æ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –Ω–∞ –≤–∞–∫–∞–Ω—Å–∏—é, –Ω–∞–ø—Ä–∏–º–µ—Ä:

   undefined
csv
   "35895583","2020-04-12T12:06:33+0300","–°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç / data scientist (big data, –ø—Ä–æ–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞, data mining)",false,"https://hh.ru/vacancy/35895583"


   –¢–æ –µ—Å—Ç—å:

   * —Å—Ç—Ä–æ–∫–∏/—Ç–µ–∫—Å—Ç—ã –≤ –∫–∞–≤—ã—á–∫–∞—Ö,
   * –±—É–ª–µ–≤–æ –ø–æ–ª–µ has_test ‚Äî true/false –±–µ–∑ –∫–∞–≤—ã—á–µ–∫,
   * –≤—Å—ë —Ä–∞–∑–¥–µ–ª–µ–Ω–æ –∑–∞–ø—è—Ç—ã–º–∏.

6. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:

   * –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö —É—Ç–∏–ª–∏—Ç —Ä–∞–∑—Ä–µ—à—ë–Ω —Ç–æ–ª—å–∫–æ jq;
   * —Å–∫—Ä–∏–ø—Ç json_to_csv.sh –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º –∏ —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–¥ /bin/sh.

–í–Ω—É—Ç—Ä–∏ filter.jq –Ω—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Å–∞–º —Ñ–∏–ª—å—Ç—Ä –¥–ª—è jq, –∫–æ—Ç–æ—Ä—ã–π:

* –¥–æ–±–∞–≤–∏—Ç —Å—Ç—Ä–æ–∫—É-–∑–∞–≥–æ–ª–æ–≤–æ–∫,
* –ø–æ—Ç–æ–º –ø—Ä–æ–π–¥—ë—Ç—Å—è –ø–æ –≤—Å–µ–º –≤–∞–∫–∞–Ω—Å–∏—è–º –≤ .items[],
* –≤—ã—Ç–∞—â–∏—Ç 5 –Ω—É–∂–Ω—ã—Ö –ø–æ–ª–µ–π –∏ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç –≤—Å—ë –≤ CSV.

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ filter.jq:

(
  ["id", "created_at", "name", "has_test", "alternate_url"],
  (.items[] | [ .id, .created_at, .name, .has_test, .alternate_url ])
) | @csv


–ö–æ—Ä–æ—Ç–∫–æ, —á—Ç–æ —Ç—É—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

* ["id", "created_at", "name", "has_test", "alternate_url"],
  ‚Äî –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ CSV: –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∫–æ–ª–æ–Ω–æ–∫.

* .items[] | [ .id, .created_at, .name, .has_test, .alternate_url ]
  ‚Äî –¥–ª—è –∫–∞–∂–¥–æ–π –≤–∞–∫–∞–Ω—Å–∏–∏ –∏–∑ –º–∞—Å—Å–∏–≤–∞ items –±–µ—Ä—ë–º —Ç–æ–ª—å–∫–æ —ç—Ç–∏ 5 –ø–æ–ª–µ–π –∏ –¥–µ–ª–∞–µ–º –∏–∑ –Ω–∏—Ö –º–∞—Å—Å–∏–≤.

* –í–Ω–µ—à–Ω–∏–µ —Å–∫–æ–±–∫–∏ ( ‚Ä¶ , ‚Ä¶ )
  ‚Äî –æ–±—ä–µ–¥–∏–Ω—è—é—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ —Å –≤–∞–∫–∞–Ω—Å–∏—è–º–∏ –≤ –æ–¥–∏–Ω –ø–æ—Ç–æ–∫.

* | @csv
  ‚Äî –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –∫–∞–∂–¥—ã–π –º–∞—Å—Å–∏–≤ –≤ —Å—Ç—Ä–æ–∫—É —Ñ–æ—Ä–º–∞—Ç–∞ CSV:
  "id","created_at","name","has_test","alternate_url" –∏ —Ç.–¥.

–ü–æ—Ç–æ–º –≤ —Å–∫—Ä–∏–ø—Ç–µ json_to_csv.sh —Ç—ã –¥–µ–ª–∞–µ—à—å, –Ω–∞–ø—Ä–∏–º–µ—Ä:

#!/bin/sh
jq -r -f filter.jq hh.json > hh.csv


–ò hh.csv –ø–æ–ª—É—á–∏—Ç—Å—è —Ç–∞–∫–∏–º, –∫–∞–∫ –≤ –ø—Ä–∏–º–µ—Ä–µ —Å–æ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞.

–í json_to_csv.sh –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–æ—Å—Ç–æ —Ç–æ, —á—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç jq —Å —Ç–≤–æ–∏–º —Ñ–∏–ª—å—Ç—Ä–æ–º –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ hh.csv.

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥—Ö–æ–¥–∏—Ç –ø–æ–¥ –∑–∞–¥–∞–Ω–∏–µ:
```sh
#!/bin/sh

# –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º hh.json –≤ hh.csv —Å –ø–æ–º–æ—â—å—é —Ñ–∏–ª—å—Ç—Ä–∞ –∏–∑ filter.jq
jq -r -f filter.jq hh.json > hh.csv
```

–ß—Ç–æ —Ç—É—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

* `#!/bin/sh` ‚Äî –≥–æ–≤–æ—Ä–∏—Ç, —á—Ç–æ —Å–∫—Ä–∏–ø—Ç –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–æ–º /bin/sh (–∫–∞–∫ —Ç—Ä–µ–±—É—é—Ç –≤ –∑–∞–¥–∞–Ω–∏–∏).
* `jq -r -f filter.jq hh.json`

  * `-f filter.jq` ‚Äî –±—Ä–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä –∏–∑ —Ñ–∞–π–ª–∞ filter.jq;
  * `hh.json` ‚Äî –≤—Ö–æ–¥–Ω–æ–π JSON —Å –≤–∞–∫–∞–Ω—Å–∏—è–º–∏ (–¥–æ–ª–∂–µ–Ω –ª–µ–∂–∞—Ç—å –≤ —ç—Ç–æ–π –∂–µ –ø–∞–ø–∫–µ);
  * `-r` ‚Äî –≤—ã–≤–æ–¥–∏—Ç—å ‚Äú—Å—ã—Ä–æ–π‚Äù —Ç–µ–∫—Å—Ç, –∞ –Ω–µ —Å —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º.
* > hh.csv ‚Äî –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –≤—ã–≤–æ–¥ –≤ —Ñ–∞–π–ª hh.csv.

–ù–µ –∑–∞–±—É–¥—å –≤ –ø–∞–ø–∫–µ ex01 —Å–¥–µ–ª–∞—Ç—å:
```sh
chmod +x json_to_csv.sh
```

—á—Ç–æ–±—ã —Å–∫—Ä–∏–ø—Ç –±—ã–ª –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º.

–ê –≤ hh.csv –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –≤—ã–¥–∞—Å—Ç —Ç–≤–æ–π —Å–∫—Ä–∏–ø—Ç ‚Äî –≥–æ—Ç–æ–≤–∞—è —Ç–∞–±–ª–∏—á–∫–∞ –∏–∑ 5 –∫–æ–ª–æ–Ω–æ–∫.

–ù–æ—Ä–º–∞–ª—å–Ω–æ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:
```csv
"id","created_at","name","has_test","alternate_url"
"35895583","2020-04-12T12:06:33+0300","–°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç / data scientist (big data, –ø—Ä–æ–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞, data mining)",false,"https://hh.ru/vacancy/35895583"
"36359628","2020-04-11T19:25:48+0300","Senior Data Scientist",false,"https://hh.ru/vacancy/36359628"
"35218725","2020-04-11T18:03:53+0300","Junior Data scientist",false,"https://hh.ru/vacancy/35218725"
...
```

–¢–æ –µ—Å—Ç—å:

* –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Äî —à–∞–ø–∫–∞ —Ç–∞–±–ª–∏—Ü—ã (–Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ–ª–æ–Ω–æ–∫):
  "id","created_at","name","has_test","alternate_url"
* –∫–∞–∂–¥–∞—è —Å–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Äî –æ–¥–Ω–∞ –≤–∞–∫–∞–Ω—Å–∏—è –∏–∑ hh.json:

  * id ‚Äî –≤ –∫–∞–≤—ã—á–∫–∞—Ö,
  * created_at ‚Äî –¥–∞—Ç–∞/–≤—Ä–µ–º—è, –≤ –∫–∞–≤—ã—á–∫–∞—Ö,
  * name ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏, –≤ –∫–∞–≤—ã—á–∫–∞—Ö,
  * has_test ‚Äî true –∏–ª–∏ false –±–µ–∑ –∫–∞–≤—ã—á–µ–∫,
  * alternate_url ‚Äî —Å—Å—ã–ª–∫–∞, –≤ –∫–∞–≤—ã—á–∫–∞—Ö.
* –∑–Ω–∞—á–µ–Ω–∏—è —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –∑–∞–ø—è—Ç—ã–º–∏ ‚Äî —ç—Ç–æ –∏ –µ—Å—Ç—å —Ñ–æ—Ä–º–∞—Ç CSV.

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ ./json_to_csv.sh —É —Ç–µ–±—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç—Å—è —Ç–∞–∫–æ–π hh.csv, –∏ –∏–º–µ–Ω–Ω–æ —ç—Ç–æ—Ç —Ñ–∞–π–ª (–≤–º–µ—Å—Ç–µ —Å filter.jq –∏ json_to_csv.sh) —Ç—ã –∏ —Å–¥–∞—ë—à—å.

–£ —Ç–µ–±—è —É–∂–µ –µ—Å—Ç—å —Ñ–∞–π–ª hh.csv –∏–∑ –ø—Ä–æ—à–ª–æ–≥–æ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è (—Ç–∞–±–ª–∏—á–∫–∞ —Å –≤–∞–∫–∞–Ω—Å–∏—è–º–∏).
–¢–µ–ø–µ—Ä—å –≤ —ç—Ç–æ–º —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–∏ –æ—Ç —Ç–µ–±—è —Ö–æ—Ç—è—Ç –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —Ñ–∞–π–ª –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –Ω–æ–≤—ã–π CSV.

### –ß—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

1. –†–∞–±–æ—á–∞—è –ø–∞–ø–∫–∞ –¥–ª—è —ç—Ç–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è:
   src/ex02/

2. –í –∏—Ç–æ–≥–µ –≤ –ø–∞–ø–∫–µ ex02 –¥–æ–ª–∂–Ω—ã –ª–µ–∂–∞—Ç—å –¥–≤–∞ —Ñ–∞–π–ª–∞:

   * sorter.sh ‚Äî —Ç–≤–æ–π shell-—Å–∫—Ä–∏–ø—Ç;
   * hh_sorted.csv ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏.

3. –°–∫—Ä–∏–ø—Ç sorter.sh –¥–æ–ª–∂–µ–Ω:

   * –ë—Ä–∞—Ç—å —Ñ–∞–π–ª hh.csv –∏–∑ –ø—Ä–æ—à–ª–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è (–æ–±—ã—á–Ω–æ —Ç—ã –ø—Ä–æ—Å—Ç–æ –∫–æ–ø–∏—Ä—É–µ—à—å –µ–≥–æ –≤ ex02 –∏–ª–∏ —É–∫–∞–∑—ã–≤–∞–µ—à—å –ø—É—Ç—å).
   * –û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫–∏ –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ:

     * —Å–Ω–∞—á–∞–ª–∞ –ø–æ –∫–æ–ª–æ–Ω–∫–µ created_at (–¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–∞–∫–∞–Ω—Å–∏–∏),
     * –ø–æ—Ç–æ–º –ø–æ –∫–æ–ª–æ–Ω–∫–µ id,
     * –ø–æ—Ä—è–¥–æ–∫ ‚Äî –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é (—Ç–æ –µ—Å—Ç—å –æ—Ç –±–æ–ª–µ–µ —Ä–∞–Ω–Ω–µ–π –¥–∞—Ç—ã –∫ –±–æ–ª–µ–µ –ø–æ–∑–¥–Ω–µ–π, –∏ –æ—Ç –º–µ–Ω—å—à–µ–≥–æ id –∫ –±–æ–ª—å—à–µ–º—É).
   * –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –Ω–æ–≤—ã–π —Ñ–∞–π–ª hh_sorted.csv.
   * –ü—Ä–∏ —ç—Ç–æ–º:

     * –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ (–∑–∞–≥–æ–ª–æ–≤–æ–∫) "id","created_at","name","has_test","alternate_url"
       –¥–æ–ª–∂–Ω–∞ –æ—Å—Ç–∞—Ç—å—Å—è –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–æ–π –∏ –Ω–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤–º–µ—Å—Ç–µ —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏;
     * —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫–∏ —Å –¥–∞–Ω–Ω—ã–º–∏ –≤–∞–∫–∞–Ω—Å–∏–π.

4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ —ç—Ç–∏ –≤–Ω–µ—à–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã:
   cat, sort, head, tail (–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–∞–º–æ–≥–æ /bin/sh).

5. –°–∫—Ä–∏–ø—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º –∏ –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å—Ç—Ä–æ–∫–æ–π:

   ```sh
   #!/bin/sh
   ```

–¢–æ –µ—Å—Ç—å –ø–æ —Å—É—Ç–∏ –∑–∞–¥–∞–Ω–∏–µ —Ç–∞–∫–æ–µ:
–Ω–∞–ø–∏—Å–∞—Ç—å —Å–∫—Ä–∏–ø—Ç sorter.sh, –∫–æ—Ç–æ—Ä—ã–π –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –æ—Ç–¥–µ–ª—è–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ –æ—Ç –¥–∞–Ω–Ω—ã—Ö, —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫–∏ —Å –≤–∞–∫–∞–Ω—Å–∏—è–º–∏ –ø–æ created_at, –∑–∞—Ç–µ–º –ø–æ id (–ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é) —Å –ø–æ–º–æ—â—å—é sort, –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤—Å—ë —ç—Ç–æ –≤ –Ω–æ–≤—ã–π —Ñ–∞–π–ª hh_sorted.csv, –≥–¥–µ –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Äî –∑–∞–≥–æ–ª–æ–≤–æ–∫, –∞ –¥–∞–ª—å—à–µ —É–∂–µ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–∞–∫–∞–Ω—Å–∏–∏.


–¢–µ–±–µ –Ω—É–∂–Ω–æ:

* –≤–∑—è—Ç—å hh.csv –∏–∑ –ø—Ä–æ—à–ª–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è,
* –æ—Å—Ç–∞–≤–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ (–ø–µ—Ä–≤—É—é —Å—Ç—Ä–æ–∫—É) –∫–∞–∫ –µ—Å—Ç—å,
* –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å:

  * —Å–Ω–∞—á–∞–ª–∞ –ø–æ –∫–æ–ª–æ–Ω–∫–µ created_at (2-—è –∫–æ–ª–æ–Ω–∫–∞),
  * –ø–æ—Ç–æ–º –ø–æ –∫–æ–ª–æ–Ω–∫–µ id (1-—è –∫–æ–ª–æ–Ω–∫–∞),
* —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø–∏—Å–∞—Ç—å –≤ hh_sorted.csv.

–†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã: cat, sort, head, tail. –≠—Ç–æ–≥–æ –∫–∞–∫ —Ä–∞–∑ —Ö–≤–∞—Ç–∞–µ—Ç.

---

## –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–Ω—É—Ç—Ä–∏ sorter.sh

–í–æ—Ç —Ä–∞–±–æ—á–∏–π –≤–∞—Ä–∏–∞–Ω—Ç —Å–∫—Ä–∏–ø—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–¥–∞–Ω–∏—é:
```sh
#!/bin/sh

# –í hh.csv:
# 1-—è –∫–æ–ª–æ–Ω–∫–∞: "id"
# 2-—è –∫–æ–ª–æ–Ω–∫–∞: "created_at"
# –ù—É–∂–Ω–æ:
#  - –ø–µ—Ä–≤—É—é —Å—Ç—Ä–æ–∫—É (–∑–∞–≥–æ–ª–æ–≤–æ–∫) –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å,
#  - –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ created_at, –ø–æ—Ç–æ–º –ø–æ id.

{
  # –°–Ω–∞—á–∞–ª–∞ –≤—ã–≤–æ–¥–∏–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ (–ø–µ—Ä–≤—É—é —Å—Ç—Ä–æ–∫—É)
  head -n 1 hh.csv

  # –ó–∞—Ç–µ–º –±–µ—Ä—ë–º –≤—Å–µ —Å—Ç—Ä–æ–∫–∏, –Ω–∞—á–∏–Ω–∞—è —Å–æ 2-–π,
  # –∏ —Å–æ—Ä—Ç–∏—Ä—É–µ–º –∏—Ö:
  #  -t ','   -> —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –ø–æ–ª–µ–π ‚Äî –∑–∞–ø—è—Ç–∞—è
  #  -k2,2    -> —Å–Ω–∞—á–∞–ª–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ 2-–º—É —Å—Ç–æ–ª–±—Ü—É (created_at)
  #  -k1,1    -> –ø–æ—Ç–æ–º –ø–æ 1-–º—É —Å—Ç–æ–ª–±—Ü—É (id) –ø—Ä–∏ —Ä–∞–≤–Ω–æ–º created_at
  tail -n +2 hh.csv | sort -t',' -k2,2 -k1,1

# –í–µ—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±–ª–æ–∫–∞ { ... } –∑–∞–ø–∏—Å—ã–≤–∞–µ–º –≤ hh_sorted.csv
} > hh_sorted.csv
```

### –ü–æ—è—Å–Ω–µ–Ω–∏–µ –ø–æ —à–∞–≥–∞–º

* #!/bin/sh ‚Äî —Å–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–æ–º /bin/sh, –∫–∞–∫ —Ç—Ä–µ–±—É—é—Ç –≤ –∑–∞–¥–∞–Ω–∏–∏.
* –ë–ª–æ–∫ { ... } > hh_sorted.csv:

  * –≤—Å—ë, —á—Ç–æ –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ { ... }, —É—Ö–æ–¥–∏—Ç –≤ —Ñ–∞–π–ª hh_sorted.csv.
* head -n 1 hh.csv ‚Äî –∑–∞–±–∏—Ä–∞–µ–º –ø–µ—Ä–≤—É—é —Å—Ç—Ä–æ–∫—É –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ (–∑–∞–≥–æ–ª–æ–≤–æ–∫) –∏ —Å—Ä–∞–∑—É –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –µ—ë –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
* tail -n +2 hh.csv ‚Äî –±–µ—Ä—ë–º —Ñ–∞–π–ª —Å–æ 2-–π —Å—Ç—Ä–æ–∫–∏ –∏ –¥–æ –∫–æ–Ω—Ü–∞ (—Ç–æ –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ, –±–µ–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞).
* sort -t',' -k2,2 -k1,1:

  * -t',' ‚Äî –≥–æ–≤–æ—Ä–∏–º sort, —á—Ç–æ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –∫–æ–ª–æ–Ω–æ–∫ ‚Äî –∑–∞–ø—è—Ç–∞—è (CSV).
  * -k2,2 ‚Äî –ø–µ—Ä–≤–æ–µ –ø–æ–ª–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ ‚Äî –≤—Ç–æ—Ä–æ–π —Å—Ç–æ–ª–±–µ—Ü (created_at).
  * -k1,1 ‚Äî –≤—Ç–æ—Ä–æ–µ –ø–æ–ª–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ ‚Äî –ø–µ—Ä–≤—ã–π —Å—Ç–æ–ª–±–µ—Ü (id), –µ—Å–ª–∏ –¥–∞—Ç—ã –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ.

–í –∏—Ç–æ–≥–µ:

* hh_sorted.csv:

  * –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Äî —Ç–æ—Ç –∂–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫, —á—Ç–æ –±—ã–ª –≤ hh.csv,
  * –¥–∞–ª—å—à–µ ‚Äî –≤—Å–µ –≤–∞–∫–∞–Ω—Å–∏–∏, –Ω–æ —É–∂–µ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ —Å–æ–∑–¥–∞–Ω–∏—è –∏ id.

–ù–µ –∑–∞–±—É–¥—å —Å–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:

```sh
chmod +x sorter.sh
```


–ò –ø–æ–ª–æ–∂–∏—Ç—å sorter.sh –∏ hh_sorted.csv –≤ src/ex02/.

---

## –ß—Ç–æ –æ—Ç —Ç–µ–±—è —Ö–æ—Ç—è—Ç –≤ Exercise 03

–£ —Ç–µ–±—è —É–∂–µ –µ—Å—Ç—å –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª hh_sorted.csv –∏–∑ –ø—Ä–æ—à–ª–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è
(id, created_at, name, has_test, alternate_url).

–¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ:

* –æ—Å—Ç–∞–≤–∏—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –∫–∞–∫ –µ—Å—Ç—å (–Ω–∏—á–µ–≥–æ –Ω–µ –ø–µ—Ä–µ—Å–æ—Ä—Ç–∏—Ä–æ–≤—ã–≤–∞—Ç—å),
* –∏–∑–º–µ–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –∫–æ–ª–æ–Ω–∫—É name (3-—è –∫–æ–ª–æ–Ω–∫–∞):

  * –≤—ã—Ç–∞—â–∏—Ç—å –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏ —É—Ä–æ–≤–µ–Ω—å: Junior, Middle, Senior;
  * –µ—Å–ª–∏ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –µ—Å—Ç—å —Ö–æ—Ç—å –æ–¥–Ω–æ –∏–∑ —ç—Ç–∏—Ö —Å–ª–æ–≤ ‚Üí –≤ name –ø–∏—à–µ–º —Ç–æ–ª—å–∫–æ –∏—Ö (–∞ –Ω–µ –≤–µ—Å—å —Ç–µ–∫—Å—Ç);
  * –µ—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ ‚Äî –æ—Å—Ç–∞–≤–∏—Ç—å –≤—Å–µ (—Ç–∏–ø–∞ Middle/Senior);
  * –µ—Å–ª–∏ –Ω–µ—Ç –Ω–∏ –æ–¥–Ω–æ–≥–æ ‚Äî –ø–æ—Å—Ç–∞–≤–∏—Ç—å "-".
* —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø–∏—Å–∞—Ç—å –≤ hh_positions.csv;
* –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Äî –∫–∞–∫ –≤—Å–µ–≥–¥–∞, –∑–∞–≥–æ–ª–æ–≤–∫–∏ (id, created_at, name, has_test, alternate_url);
* –ø–æ—Ä—è–¥–æ–∫ —Å—Ç—Ä–æ–∫ (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞) –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞—Ç—å—Å—è —Ç–∞–∫–∏–º –∂–µ, –∫–∞–∫ –±—ã–ª –≤ hh_sorted.csv.

–ü—Ä–∏–º–µ—Ä—ã –∏–∑ —É—Å–ª–æ–≤–∏—è:

* "Senior Data Scientist" ‚Üí "Senior"
* "Analyst/Data Scientist" ‚Üí "-"
* "Specialist/Data Scientist (Big Data, Predictive Analytics, Data Mining)" ‚Üí "-"
* "Middle/Senior Data Scientist" ‚Üí "Middle/Senior"

–°–∫—Ä–∏–ø—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:

* —Å –∏–º–µ–Ω–µ–º cleaner.sh,
* –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º (chmod +x cleaner.sh),
* —Å –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–æ–º /bin/sh (–ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Äî #!/bin/sh),
* –ª–µ–∂–∞—Ç—å –≤–º–µ—Å—Ç–µ —Å hh_positions.csv –≤ src/ex03/.

---

## –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–æ –≤ cleaner.sh

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–∂–Ω–æ –ª—é–±—ã–µ —É—Ç–∏–ª–∏—Ç—ã, —Ç–∞–∫ —á—Ç–æ —É–¥–æ–±–Ω–µ–µ –≤—Å–µ–≥–æ ‚Äî awk.

–¢–µ–±–µ –Ω—É–∂–Ω–æ:

1. –ü—Ä–æ—á–∏—Ç–∞—Ç—å hh_sorted.csv.
2. –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å –ø–µ—Ä–≤—É—é —Å—Ç—Ä–æ–∫—É (header) –∫–∞–∫ –µ—Å—Ç—å.
3. –î–ª—è –∫–∞–∂–¥–æ–π —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä–æ–∫–∏:

   * –≤—ã—Ç–∞—â–∏—Ç—å –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è –¥–æ–ª–∂–Ω–æ—Å—Ç–∏ (name) —Å–ª–æ–≤–∞ Junior, Middle, Senior (–µ—Å–ª–∏ –µ—Å—Ç—å),
   * —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É CSV —Å:

     * —Ç–µ–º –∂–µ id,
     * —Ç–µ–º –∂–µ created_at,
     * –Ω–æ–≤—ã–º name (Junior/Middle/Senior –∏–ª–∏ -),
     * —Ç–µ–º –∂–µ has_test,
     * —Ç–µ–º –∂–µ alternate_url.
4. –í—Å—ë –∑–∞–ø–∏—Å–∞—Ç—å –≤ hh_positions.csv.

–í–æ—Ç —Ä–∞–±–æ—á–∏–π –≤–∞—Ä–∏–∞–Ω—Ç cleaner.sh —Å –∫–æ–º–º–µ–Ω—Ç–∞–º–∏:
```sh
#!/bin/sh

# –í—Ö–æ–¥:  hh_sorted.csv (–∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è)
# –í—ã—Ö–æ–¥: hh_positions.csv (—Å –æ—á–∏—â–µ–Ω–Ω–æ–π –∫–æ–ª–æ–Ω–∫–æ–π name)

awk -F',' '
NR == 1 {
    # –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Äî –∑–∞–≥–æ–ª–æ–≤–æ–∫, –≤—ã–≤–æ–¥–∏–º –∫–∞–∫ –µ—Å—Ç—å
    print $0
    next
}
{
    # –°–æ–±–∏—Ä–∞–µ–º –ø–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ (name)
    # –ü–æ–ª—è:
    # 1: "id"
    # 2: "created_at"
    # 3..NF-2: —á–∞—Å—Ç—å name (–º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∑–∞–ø—è—Ç—ã–µ)
    # NF-1: has_test
    # NF: "alternate_url"
    name = ""
    for (i = 3; i <= NF-2; i++) {
        if (i > 3) {
            name = name "," $i
        } else {
            name = $i
        }
    }

    # –ò—â–µ–º —É—Ä–æ–≤–Ω–∏ Junior / Middle / Senior
    level = ""

    if (index(name, "Junior") > 0) {
        level = (level == "" ? "Junior" : level "/Junior")
    }
    if (index(name, "Middle") > 0) {
        level = (level == "" ? "Middle" : level "/Middle")
    }
    if (index(name, "Senior") > 0) {
        level = (level == "" ? "Senior" : level "/Senior")
    }

    # –ï—Å–ª–∏ –Ω–∏ –æ–¥–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è –Ω–µ –Ω–∞—à–ª–∏ ‚Äî —Å—Ç–∞–≤–∏–º "-"
    if (level == "") {
        level = "-"
    }

    # –°–æ–±–∏—Ä–∞–µ–º –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É CSV:
    # $1       -> "id"
    # $2       -> "created_at"
    # "level"  -> –Ω–æ–≤—ã–π name
    # $(NF-1)  -> has_test (true/false)
    # $NF      -> "alternate_url"
    printf "%s,%s,\"%s\",%s,%s\n", $1, $2, level, $(NF-1), $NF
}
' hh_sorted.csv > hh_positions.csv
```
---

### –ß—Ç–æ —Ç—É—Ç –≤–∞–∂–Ω–æ –ø–æ–Ω—è—Ç—å

* -F',' ‚Äî –≥–æ–≤–æ—Ä–∏–º awk, —á—Ç–æ –ø–æ–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –∑–∞–ø—è—Ç–æ–π (CSV).
* NR == 1 ‚Äî –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ —Ñ–∞–π–ª–∞ (header), –µ—ë –Ω–µ –º–µ–Ω—è–µ–º, –ø—Ä–æ—Å—Ç–æ –ø–µ—á–∞—Ç–∞–µ–º.
* –¶–∏–∫–ª for (i = 3; i <= NF-2; i++) —Å–æ–±–∏—Ä–∞–µ—Ç –≤—Å—ë, —á—Ç–æ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –Ω–∞–∑–≤–∞–Ω–∏—é –ø–æ–∑–∏—Ü–∏–∏ (name).

  * NF ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª–µ–π.
  * NF-1 ‚Äî —ç—Ç–æ has_test.
  * NF ‚Äî —ç—Ç–æ alternate_url.
* index(name, "Junior") > 0 ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ–º, –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –ª–∏ —Å–ª–æ–≤–æ "Junior" –≤ —Å—Ç—Ä–æ–∫–µ name.
* level ‚Äî —Å—Ç—Ä–æ–∫–∞, –≤ –∫–æ—Ç–æ—Ä—É—é –º—ã –ø–æ –æ—á–µ—Ä–µ–¥–∏ –¥–æ–±–∞–≤–ª—è–µ–º —É—Ä–æ–≤–Ω–∏ (Junior, Middle, Senior) —á–µ—Ä–µ–∑ /.
* –ï—Å–ª–∏ level —Ç–∞–∫ –∏ –æ—Å—Ç–∞–ª–∞—Å—å –ø—É—Å—Ç–æ–π ‚Äî –∑–Ω–∞—á–∏—Ç, –Ω–∏ –æ–¥–∏–Ω –∏–∑ —É—Ä–æ–≤–Ω–µ–π –Ω–µ –≤—Å—Ç—Ä–µ—Ç–∏–ª—Å—è ‚Üí —Å—Ç–∞–≤–∏–º "-".

–í –∏—Ç–æ–≥–µ hh_positions.csv –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å, –∫–∞–∫ –≤ –ø—Ä–∏–º–µ—Ä–µ –∏–∑ –∑–∞–¥–∞–Ω–∏—è:
```csv
"id","created_at","name","has_test","alternate_url"
"35218725","2020-04-11T18:03:53+0300","Junior",false,"https://hh.ru/vacancy/35218725"
"36359628","2020-04-11T19:25:48+0300","Senior",false,"https://hh.ru/vacancy/36359628"
"35895583","2020-04-12T12:06:33+0300","-",false,"https://hh.ru/vacancy/35895583"
...
```


–¢–µ–±–µ –æ—Å—Ç–∞—ë—Ç—Å—è:
```sh
mkdir -p src/ex03
# –ø–æ–ª–æ–∂–∏—Ç—å —Ç—É–¥–∞ cleaner.sh
chmod +x cleaner.sh
cd src/ex03
./cleaner.sh
```

–ò –≤–º–µ—Å—Ç–µ —Å cleaner.sh –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å hh_positions.csv –≤ ex03.

---

### –ß—Ç–æ –≤–æ–æ–±—â–µ —Ö–æ—Ç—è—Ç –≤ Exercise 04

–£ —Ç–µ–±—è —É–∂–µ –µ—Å—Ç—å —Ñ–∞–π–ª hh_positions.csv –∏–∑ –ø—Ä–æ—à–ª–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è (—Ç–∞–º –≤ –∫–æ–ª–æ–Ω–∫–µ name —Ç–µ–ø–µ—Ä—å –Ω–µ –ø–æ–ª–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –≤–∞–∫–∞–Ω—Å–∏–π, –∞ —Ç–æ–ª—å–∫–æ —É—Ä–æ–≤–Ω–∏: Junior, Middle, Senior, Middle/Senior, - –∏ —Ç.–ø.).

–¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ:

* –ø–æ—Å—á–∏—Ç–∞—Ç—å, —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –∫–∞–∂–¥–æ–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –∫–æ–ª–æ–Ω–∫–µ name;

* —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–ª–æ–∂–∏—Ç—å –≤ –Ω–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É –≤–∏–¥–∞:

  undefined
csv
  "name","count"
  "Junior",10
  "Middle",5
  "Senior",3
  ...
* –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç—É —Ç–∞–±–ª–∏—Ü—É –ø–æ –∫–æ–ª–æ–Ω–∫–µ count –ø–æ —É–±—ã–≤–∞–Ω–∏—é (–æ—Ç –±–æ–ª—å—à–µ–≥–æ –∫ –º–µ–Ω—å—à–µ–º—É);

* —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å—ë —ç—Ç–æ –≤ —Ñ–∞–π–ª hh_uniq_positions.csv;

* —Å–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç counter.sh, –∫–æ—Ç–æ—Ä—ã–π –≤—Å—ë –≤—ã—à–µ–æ–ø–∏—Å–∞–Ω–Ω–æ–µ –¥–µ–ª–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

–†–∞–±–æ—Ç–∞—Ç—å –Ω—É–∂–Ω–æ –≤ –ø–∞–ø–∫–µ:
src/ex04/

–í –∏—Ç–æ–≥–µ –≤ ex04 –¥–æ–ª–∂–Ω—ã –ª–µ–∂–∞—Ç—å:

* counter.sh ‚Äî —Å–∫—Ä–∏–ø—Ç;
* hh_uniq_positions.csv ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

–°–∫—Ä–∏–ø—Ç:

* –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º (chmod +x counter.sh);
* –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Äî #!/bin/sh.

---

### –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–æ –≤ counter.sh

–ú—ã –±—É–¥–µ–º:

1. –ü—Ä–æ–ø—É—Å–∫–∞—Ç—å –ø–µ—Ä–≤—É—é —Å—Ç—Ä–æ–∫—É (–∑–∞–≥–æ–ª–æ–≤–æ–∫) —É hh_positions.csv;
2. –î–æ—Å—Ç–∞–≤–∞—Ç—å –∫–æ–ª–æ–Ω–∫—É name (3-–π —Å—Ç–æ–ª–±–µ—Ü);
3. –£–±–∏—Ä–∞—Ç—å –∫–∞–≤—ã—á–∫–∏ " –≤–æ–∫—Ä—É–≥ –∑–Ω–∞—á–µ–Ω–∏—è;
4. –°—á–∏—Ç–∞—Ç—å, —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π name;
5. –û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ count –ø–æ —É–±—ã–≤–∞–Ω–∏—é, –∞ –ø—Ä–∏ —Ä–∞–≤–µ–Ω—Å—Ç–≤–µ ‚Äî –ø–æ name –ø–æ –∞–ª—Ñ–∞–≤–∏—Ç—É;
6. –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ "name","count" –≤ –ø–µ—Ä–≤—É—é —Å—Ç—Ä–æ–∫—É;
7. –í—Å—ë –∑–∞–ø–∏—Å–∞—Ç—å –≤ hh_uniq_positions.csv.

–í–æ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ counter.sh, –∫–æ—Ç–æ—Ä–æ–µ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç:

```sh
#!/bin/sh

# –í—Ö–æ–¥:  hh_positions.csv (–∏–∑ ex03)
# –í—ã—Ö–æ–¥: hh_uniq_positions.csv (—Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö name)

{
    # –°–Ω–∞—á–∞–ª–∞ –ø–µ—á–∞—Ç–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è –∏—Ç–æ–≥–æ–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã
    echo "\"name\",\"count\""

    # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º hh_positions.csv
    awk -F',' '
    NR > 1 {                          # –ø—Ä–æ–ø—É—Å–∫–∞–µ–º –ø–µ—Ä–≤—É—é —Å—Ç—Ä–æ–∫—É (header)
        name = $3                     # 3-—è –∫–æ–ª–æ–Ω–∫–∞ ‚Äî "name"
        gsub(/"/, "", name)           # —É–±–∏—Ä–∞–µ–º –∫–∞–≤—ã—á–∫–∏ –≤–æ–∫—Ä—É–≥ –∑–Ω–∞—á–µ–Ω–∏—è
        counts[name]++                # —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á—ë—Ç—á–∏–∫ –¥–ª—è —ç—Ç–æ–≥–æ name
    }
    END {
        for (n in counts) {
            printf "%s,%d\n", n, counts[n]
        }
    }
    ' hh_positions.csv |
    # –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ count (2-—è –∫–æ–ª–æ–Ω–∫–∞) –ø–æ —É–±—ã–≤–∞–Ω–∏—é, –ø–æ—Ç–æ–º –ø–æ name
    sort -t',' -k2,2nr -k1,1
} > hh_uniq_positions.csv
```

#### –ß—Ç–æ —Ç—É—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ —à–∞–≥–∞–º

* #!/bin/sh ‚Äî —Å–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è /bin/sh, –∫–∞–∫ —Ç—Ä–µ–±—É—é—Ç –≤ –∑–∞–¥–∞–Ω–∏–∏.
* –ë–ª–æ–∫ { ... } > hh_uniq_positions.csv:

  * –≤—Å—ë, —á—Ç–æ –≤–Ω—É—Ç—Ä–∏ {}, –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ —Ñ–∞–π–ª hh_uniq_positions.csv.

–í–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–∞:

1. echo "\"name\",\"count\""
   ‚Äî –ø–µ—á–∞—Ç–∞–µ–º –ø–µ—Ä–≤—É—é —Å—Ç—Ä–æ–∫—É –∏—Ç–æ–≥–æ–≤–æ–≥–æ CSV-—Ñ–∞–π–ª–∞: –∑–∞–≥–æ–ª–æ–≤–∫–∏ "name","count".

2. –ë–ª–æ–∫ awk:

   * -F',' ‚Äî –ø–æ–ª—è –≤ CSV —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –∑–∞–ø—è—Ç–æ–π;
   * NR > 1 ‚Äî –ø—Ä–æ–ø—É—Å–∫–∞–µ–º –ø–µ—Ä–≤—É—é —Å—Ç—Ä–æ–∫—É (–∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏–∑ hh_positions.csv);
   * name = $3 ‚Äî –±–µ—Ä—ë–º —Ç—Ä–µ—Ç—å—é –∫–æ–ª–æ–Ω–∫—É ("Junior", "Senior" –∏ —Ç.–ø.);
   * gsub(/"/, "", name) ‚Äî —É–±–∏—Ä–∞–µ–º –¥–≤–æ–π–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ "...";
   * counts[name]++ ‚Äî —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á—ë—Ç—á–∏–∫ –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ name;
   * –≤ END –ø—Ä–æ—Ö–æ–¥–∏–º –ø–æ –≤—Å–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–º name –∏ –ø–µ—á–∞—Ç–∞–µ–º —Å—Ç—Ä–æ–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∞:

     undefined
text
     Junior,10
     Senior,3
     ...
3. sort -t',' -k2,2nr -k1,1

   * -t',' ‚Äî —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –ø–æ–ª–µ–π ‚Äî –∑–∞–ø—è—Ç–∞—è;
   * -k2,2nr ‚Äî —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ 2-–π –∫–æ–ª–æ–Ω–∫–µ (count) –ø–æ —É–±—ã–≤–∞–Ω–∏—é (n ‚Äî numeric, r ‚Äî reverse);
   * -k1,1 ‚Äî –ø—Ä–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–º count —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ name –ø–æ –∞–ª—Ñ–∞–≤–∏—Ç—É.

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ:

* hh_uniq_positions.csv –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

```csv
  "name","count"
  "Junior",10
  "Middle",5
  "Senior",3
  ...
```
---

–ß—Ç–æ —Ç–µ–±–µ –æ—Å—Ç–∞—ë—Ç—Å—è:

```sh
mkdir -p src/ex04
# –ø–æ–ª–æ–∂–∏—Ç—å —Ç—É–¥–∞ counter.sh
chmod +x src/ex04/counter.sh
cd src/ex04
./counter.sh
```

–ò –≤–º–µ—Å—Ç–µ —Å counter.sh –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å hh_uniq_positions.csv.

---

## –ß—Ç–æ —Ö–æ—Ç—è—Ç –æ—Ç Exercise 05

–£ —Ç–µ–±—è –µ—Å—Ç—å —Ñ–∞–π–ª hh_positions.csv –∏–∑ ex03 (—Ç–∞–º —É–∂–µ –æ—á–∏—â–µ–Ω–Ω—ã–π name –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∫–∞–∫ –≤ ex02).

–¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ:

### 1. partitioner.sh

* –í–∑—è—Ç—å –∫–∞–∫ –≤—Ö–æ–¥ hh_positions.csv (—Ä–µ–∑—É–ª—å—Ç–∞—Ç ex03).

* –†–∞–∑–±–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ –¥–∞—Ç–∞–º –∏–∑ –∫–æ–ª–æ–Ω–∫–∏ created_at (2-—è –∫–æ–ª–æ–Ω–∫–∞).

* –î–ª—è –∫–∞–∂–¥–æ–π –¥–∞—Ç—ã —Å–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π CSV-—Ñ–∞–π–ª, –Ω–∞–ø—Ä–∏–º–µ—Ä:

  * 2020-04-11.csv
  * 2020-04-12.csv
  * –∏ —Ç.–¥.

* –í –∫–∞–∂–¥–æ–º —Ç–∞–∫–æ–º —Ñ–∞–π–ª–µ:

  * –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Äî —Ç–æ—Ç –∂–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫, —á—Ç–æ –≤ hh_positions.csv;
  * –¥–∞–ª—å—à–µ ‚Äî —Ç–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫–∏ —Å —ç—Ç–æ–π –¥–∞—Ç–æ–π.

* –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ –¥–ª—è –æ–¥–Ω–æ–π –¥–∞—Ç—ã –æ–Ω–∏ –¥–∞—é—Ç:

  ```csv
  "id","created_at","name","has_test","alternate_url"
  "35218725","2020-04-11T18:03:53+0300","Junior",false,"https://hh.ru/vacancy/35218725"
  "36359628","2020-04-11T19:25:48+0300","Senior",false,"https://hh.ru/vacancy/36359628"
  ```

–¢–æ –µ—Å—Ç—å –æ–¥–Ω–∞ –¥–∞—Ç–∞ ‚Üí –æ–¥–∏–Ω CSV —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º + —Å—Ç—Ä–æ–∫–∏ —ç—Ç–æ–π –¥–∞—Ç—ã.

---

### 2. concatenator.sh

* –í–∑—è—Ç—å –≤—Å–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª–æ–≤ –ø–æ –¥–∞—Ç–∞–º, –∫–æ—Ç–æ—Ä—ã–µ —Å–¥–µ–ª–∞–ª partitioner.sh.
* –°–∫–ª–µ–∏—Ç—å –∏—Ö –≤ –æ–¥–∏–Ω –æ–±—â–∏–π CSV:

  * –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Äî –∑–∞–≥–æ–ª–æ–≤–æ–∫ (–∫–∞–∫ –æ–±—ã—á–Ω–æ),
  * –¥–∞–ª—å—à–µ ‚Äî –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö.
* –í–∞–∂–Ω–æ: –∏—Ç–æ–≥–æ–≤—ã–π —Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–æ—á–Ω–æ —Ç–∞–∫–∏–º –∂–µ, –∫–∞–∫ hh_positions.csv –∏–∑ ex03
  (—Ç–∞ –∂–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, —Ç–µ –∂–µ —Å—Ç—Ä–æ–∫–∏, —Ç–æ—Ç –∂–µ —Ñ–æ—Ä–º–∞—Ç).

–°–∫—Ä–∏–ø—Ç—ã:

* –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏ (chmod +x partitioner.sh, chmod +x concatenator.sh);
* –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –æ–±–æ–∏—Ö:

  ```sh
  #!/bin/sh
  ```

–†–∞–±–æ—á–∞—è –ø–∞–ø–∫–∞ –¥–ª—è —ç—Ç–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤:

> src/ex05/

---

## –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–æ –≤ partitioner.sh

–õ–æ–≥–∏–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞:

1. –ü—Ä–æ—á–∏—Ç–∞—Ç—å hh_positions.csv.
2. –ó–∞–ø–æ–º–Ω–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ (–ø–µ—Ä–≤—É—é —Å—Ç—Ä–æ–∫—É).
3. –î–ª—è –∫–∞–∂–¥–æ–π –ø–æ—Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä–æ–∫–∏:

   * –≤—ã—Ç–∞—â–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É created_at (–≤—Ç–æ—Ä–∞—è –∫–æ–ª–æ–Ω–∫–∞),
   * —É–±—Ä–∞—Ç—å –∫–∞–≤—ã—á–∫–∏,
   * –≤–∑—è—Ç—å —Ç–æ–ª—å–∫–æ –¥–∞—Ç—É ‚Äî –ø–µ—Ä–≤—ã–µ 10 —Å–∏–º–≤–æ–ª–æ–≤: YYYY-MM-DD,
   * —Å–¥–µ–ª–∞—Ç—å –∏–º—è —Ñ–∞–π–ª–∞ YYYY-MM-DD.csv,
   * –µ—Å–ª–∏ —ç—Ç–æ—Ç —Ñ–∞–π–ª –µ—â—ë –Ω–µ —Å–æ–∑–¥–∞–≤–∞–ª—Å—è ‚Äî —Å–Ω–∞—á–∞–ª–∞ –∑–∞–ø–∏—Å–∞—Ç—å –≤ –Ω–µ–≥–æ –∑–∞–≥–æ–ª–æ–≤–æ–∫,
   * –∑–∞—Ç–µ–º –¥–æ–ø–∏—Å–∞—Ç—å —Ç—É–¥–∞ —Ç–µ–∫—É—â—É—é —Å—Ç—Ä–æ–∫—É.
4. –í –∏—Ç–æ–≥–µ –≤ –ø–∞–ø–∫–µ –±—É–¥–µ—Ç –ø–æ –æ–¥–Ω–æ–º—É —Ñ–∞–π–ª—É –Ω–∞ –∫–∞–∂–¥—É—é –¥–∞—Ç—É.

–ö–æ–¥ partitioner.sh:
```sh
#!/bin/sh

# –í—Ö–æ–¥:  hh_positions.csv (–∏–∑ ex03)
# –í—ã—Ö–æ–¥: –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤ –≤–∏–¥–∞ YYYY-MM-DD.csv, –ø–æ –æ–¥–Ω–æ–π –¥–∞—Ç–µ –≤ –∫–∞–∂–¥–æ–º

awk -F',' '
NR == 1 {
    # –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Äî –∑–∞–≥–æ–ª–æ–≤–æ–∫, –∑–∞–ø–æ–º–∏–Ω–∞–µ–º –µ—ë
    header = $0
    next
}
{
    # created_at ‚Äî 2-—è –∫–æ–ª–æ–Ω–∫–∞, –≤–∏–¥–∞ "2020-04-11T18:03:53+0300"
    created = $2
    gsub(/"/, "", created)           # —É–±–∏—Ä–∞–µ–º –∫–∞–≤—ã—á–∫–∏

    date = substr(created, 1, 10)    # –±–µ—Ä—ë–º —Ç–æ–ª—å–∫–æ –¥–∞—Ç—É YYYY-MM-DD
    fname = date ".csv"              # –∏–º—è —Ñ–∞–π–ª–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä 2020-04-11.csv

    # –ï—Å–ª–∏ –¥–ª—è —ç—Ç–æ–π –¥–∞—Ç—ã –µ—â—ë –Ω–µ –ø–∏—Å–∞–ª–∏ —Ñ–∞–π–ª ‚Äî —Å–Ω–∞—á–∞–ª–∞ –≤—ã–≤–æ–¥–∏–º –∑–∞–≥–æ–ª–æ–≤–æ–∫
    if (!(fname in seen)) {
        print header > fname
        seen[fname] = 1
    }

    # –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—É—â—É—é —Å—Ç—Ä–æ–∫—É –≤ —Ñ–∞–π–ª —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –¥–∞—Ç—ã
    print $0 >> fname
}
' hh_positions.csv
```

‚ùó –í–∞–∂–Ω–æ:

* -F',' ‚Äî CSV —Ä–∞–∑–¥–µ–ª—ë–Ω –∑–∞–ø—è—Ç—ã–º–∏.
* NR == 1 ‚Äî –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ ("id","created_at","name","has_test","alternate_url").
* substr(created, 1, 10) ‚Äî –±–µ—Ä—ë–º —Ç–æ–ª—å–∫–æ 2020-04-11 –±–µ–∑ –≤—Ä–µ–º–µ–Ω–∏.

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:

./partitioner.sh


–í –ø–∞–ø–∫–µ ex05 –ø–æ—è–≤—è—Ç—Å—è —Ñ–∞–π–ª—ã:

2020-04-11.csv
2020-04-12.csv
...


–ö–∞–∂–¥—ã–π ‚Äî —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –∏ —Å—Ç—Ä–æ–∫–∞–º–∏ —Ç–æ–ª—å–∫–æ —ç—Ç–æ–π –¥–∞—Ç—ã.

---

## –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–æ –≤ concatenator.sh

–õ–æ–≥–∏–∫–∞:

1. –ü—Ä–æ–π—Ç–∏ –ø–æ –≤—Å–µ–º —Ñ–∞–π–ª–∞–º —Å –¥–∞—Ç–∞–º–∏ (—Ç–∏–ø–∞ 2020-04-11.csv, 2020-04-12.csv, ‚Ä¶).
2. –°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –ø–æ –∏–º–µ–Ω–∏ ‚Äî —ç—Ç–æ –±—É–¥–µ—Ç —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—è–¥–æ–∫.
3. –í –ø–µ—Ä–≤—ã–π —Ä–∞–∑:

   * –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–∑—è—Ç—å –ø–µ—Ä–≤—ã–π —Ñ–∞–π–ª (–≤–∫–ª—é—á–∞—è –∑–∞–≥–æ–ª–æ–≤–æ–∫).
4. –î–ª—è –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö:

   * –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –ø–µ—Ä–≤—É—é —Å—Ç—Ä–æ–∫—É (–∑–∞–≥–æ–ª–æ–≤–æ–∫),
   * –¥–æ–±–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ.
5. –ó–∞–ø–∏—Å–∞—Ç—å –≤—Å—ë –≤ –æ–¥–∏–Ω –æ–±—â–∏–π CSV, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Ç–æ—á–Ω–æ —Ä–∞–≤–µ–Ω hh_positions.csv.

–ü—É—Å—Ç—å –∏—Ç–æ–≥–æ–≤—ã–π —Ñ–∞–π–ª —Å–Ω–æ–≤–∞ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è hh_positions.csv (—Ç–∞–∫ –ª–æ–≥–∏—á–Ω–æ, —Ä–∞–∑ –æ–Ω –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å ex03).

–ö–æ–¥ concatenator.sh:
```sh
#!/bin/sh

# –í—Ö–æ–¥: —Ñ–∞–π–ª—ã YYYY-MM-DD.csv, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ partitioner.sh
# –í—ã—Ö–æ–¥: hh_positions.csv ‚Äî —Å–∫–ª–µ–µ–Ω–Ω—ã–π —Ñ–∞–π–ª, –∫–∞–∫ –≤ Exercise 03

output="hh_positions.csv"
first=1

# –ü–µ—Ä–µ–±–∏—Ä–∞–µ–º –≤—Å–µ —Ñ–∞–π–ª—ã —Å –¥–∞—Ç–∞–º–∏ –ø–æ –∞–ª—Ñ–∞–≤–∏—Ç—É ‚Äî —ç—Ç–æ –∂–µ —Ñ–æ—Ä–º–∞—Ç YYYY-MM-DD.csv
for f in $(ls *.csv | sort); do
    # –ù–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π –Ω–µ —Ç—Ä–æ–≥–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π hh_positions.csv,
    # –µ—Å–ª–∏ –æ–Ω –≤–¥—Ä—É–≥ —É–∂–µ –µ—Å—Ç—å –≤ –ø–∞–ø–∫–µ
    if [ "$f" = "$output" ]; then
        continue
    fi

    if [ $first -eq 1 ]; then
        # –î–ª—è –ø–µ—Ä–≤–æ–≥–æ —Ñ–∞–π–ª–∞ –±–µ—Ä—ë–º –≤—Å—ë (—Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º)
        cat "$f" > "$output"
        first=0
    else
        # –î–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–ø—É—Å–∫–∞–µ–º –ø–µ—Ä–≤—É—é —Å—Ç—Ä–æ–∫—É (–∑–∞–≥–æ–ª–æ–≤–æ–∫)
        tail -n +2 "$f" >> "$output"
    fi
done
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:

./concatenator.sh


* –ø–æ—è–≤–∏—Ç—Å—è/–æ–±–Ω–æ–≤–∏—Ç—Å—è —Ñ–∞–π–ª hh_positions.csv;
* –æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–∞–∫–∏–º –∂–µ, –∫–∞–∫ –∏—Å—Ö–æ–¥–Ω—ã–π hh_positions.csv –∏–∑ ex03
  (–≤—Å–µ —Å—Ç—Ä–æ–∫–∏, —Ç–æ—Ç –∂–µ –ø–æ—Ä—è–¥–æ–∫, –æ–¥–∏–Ω –∑–∞–≥–æ–ª–æ–≤–æ–∫ –≤ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–µ).

---

–®–∞–≥–∏ –¥–ª—è —Ç–µ–±—è:
```sh
mkdir -p src/ex05
# –ø–æ–ª–æ–∂–∏—Ç—å —Ç—É–¥–∞ partitioner.sh –∏ concatenator.sh
chmod +x src/ex05/partitioner.sh
chmod +x src/ex05/concatenator.sh

cd src/ex05
# —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—é–¥–∞ hh_positions.csv –∏–∑ ex03
cp ../ex03/hh_positions.csv .

./partitioner.sh
./concatenator.sh
```